<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Pharmaceutical Sciences</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This book will teach you how to do data science with R">
  <meta name="generator" content="bookdown 0.0.71 and GitBook 2.6.7">

  <meta property="og:title" content="R for Pharmaceutical Sciences" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://www.devinpastoor.com/r-pharmsciences/" />
  
  <meta property="og:description" content="This book will teach you how to do data science with R" />
  <meta name="github-repo" content="dpastoor/r-pharmsciences" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Pharmaceutical Sciences" />
  <meta name="twitter:site" content="@devinpastoor" />
  <meta name="twitter:description" content="This book will teach you how to do data science with R" />
  

<meta name="author" content="Devin Pastoor">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="core-r.html">
<link rel="next" href="writing-functions.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="r-pharmsciences.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Pharmaceutical Sciences </a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i><b>0.1</b> How to read this book</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html"><i class="fa fa-check"></i><b>1</b> Intro to Data Manipulation</a><ul>
<li class="chapter" data-level="1.1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#subsetting"><i class="fa fa-check"></i><b>1.1</b> Subsetting</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#try-it-yourself"><i class="fa fa-check"></i><b>1.1.1</b> Try it yourself</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#logical-subsetting"><i class="fa fa-check"></i><b>1.2</b> Logical Subsetting</a></li>
<li class="chapter" data-level="1.3" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#common-subsetting-situations-and-some-useful-functions"><i class="fa fa-check"></i><b>1.3</b> Common Subsetting Situations and Some Useful Functions</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#pop-quiz-question"><i class="fa fa-check"></i><b>1.3.1</b> Pop quiz question</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#data-manipulation"><i class="fa fa-check"></i><b>1.4</b> Data Manipulation</a></li>
<li class="chapter" data-level="1.5" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#renaming-columns"><i class="fa fa-check"></i><b>1.5</b> renaming columns</a></li>
<li class="chapter" data-level="1.6" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#reordering-rowscolumns"><i class="fa fa-check"></i><b>1.6</b> reordering rows/columns</a></li>
<li class="chapter" data-level="1.7" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#keys"><i class="fa fa-check"></i><b>1.7</b> Keys</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="core-r.html"><a href="core-r.html"><i class="fa fa-check"></i><b>2</b> Core R</a><ul>
<li class="chapter" data-level="2.1" data-path="core-r.html"><a href="core-r.html#data-structures"><i class="fa fa-check"></i><b>2.1</b> Data Structures</a></li>
<li class="chapter" data-level="2.2" data-path="core-r.html"><a href="core-r.html#vectors"><i class="fa fa-check"></i><b>2.2</b> Vectors</a></li>
<li class="chapter" data-level="2.3" data-path="core-r.html"><a href="core-r.html#coercion"><i class="fa fa-check"></i><b>2.3</b> Coercion</a><ul>
<li class="chapter" data-level="2.3.1" data-path="core-r.html"><a href="core-r.html#coercion-chain"><i class="fa fa-check"></i><b>2.3.1</b> Coercion chain</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="core-r.html"><a href="core-r.html#attributes"><i class="fa fa-check"></i><b>2.4</b> Attributes</a></li>
<li class="chapter" data-level="2.5" data-path="core-r.html"><a href="core-r.html#lists"><i class="fa fa-check"></i><b>2.5</b> Lists</a></li>
<li class="chapter" data-level="2.6" data-path="core-r.html"><a href="core-r.html#data-frames"><i class="fa fa-check"></i><b>2.6</b> Data Frames</a></li>
<li class="chapter" data-level="2.7" data-path="core-r.html"><a href="core-r.html#creation-vs-coercion"><i class="fa fa-check"></i><b>2.7</b> Creation vs Coercion</a></li>
<li class="chapter" data-level="2.8" data-path="core-r.html"><a href="core-r.html#combining-data-structuresobjects"><i class="fa fa-check"></i><b>2.8</b> Combining Data Structures/Objects</a></li>
<li class="chapter" data-level="2.9" data-path="core-r.html"><a href="core-r.html#one-last-combining-catch"><i class="fa fa-check"></i><b>2.9</b> One last combining catch</a></li>
<li class="chapter" data-level="2.10" data-path="core-r.html"><a href="core-r.html#factors"><i class="fa fa-check"></i><b>2.10</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>3</b> Control Structures</a><ul>
<li class="chapter" data-level="3.1" data-path="control-structures.html"><a href="control-structures.html#if-statements"><i class="fa fa-check"></i><b>3.1</b> IF statements</a></li>
<li class="chapter" data-level="3.2" data-path="control-structures.html"><a href="control-structures.html#else"><i class="fa fa-check"></i><b>3.2</b> ELSE</a></li>
<li class="chapter" data-level="3.3" data-path="control-structures.html"><a href="control-structures.html#ifelse"><i class="fa fa-check"></i><b>3.3</b> ifelse</a></li>
<li class="chapter" data-level="3.4" data-path="control-structures.html"><a href="control-structures.html#loops"><i class="fa fa-check"></i><b>3.4</b> Loops</a></li>
<li class="chapter" data-level="3.5" data-path="control-structures.html"><a href="control-structures.html#more-for-loop-information"><i class="fa fa-check"></i><b>3.5</b> more For loop information</a></li>
<li class="chapter" data-level="3.6" data-path="control-structures.html"><a href="control-structures.html#while-loops"><i class="fa fa-check"></i><b>3.6</b> While loops</a></li>
<li class="chapter" data-level="3.7" data-path="control-structures.html"><a href="control-structures.html#assignments"><i class="fa fa-check"></i><b>3.7</b> Assignments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>4</b> Writing Functions</a><ul>
<li class="chapter" data-level="4.0.1" data-path="writing-functions.html"><a href="writing-functions.html#default-behaviors"><i class="fa fa-check"></i><b>4.0.1</b> Default Behaviors</a></li>
<li class="chapter" data-level="4.0.2" data-path="writing-functions.html"><a href="writing-functions.html#parameter-matching"><i class="fa fa-check"></i><b>4.0.2</b> Parameter Matching</a></li>
<li class="chapter" data-level="4.0.3" data-path="writing-functions.html"><a href="writing-functions.html#passing-on-parameters"><i class="fa fa-check"></i><b>4.0.3</b> Passing on parameters</a></li>
<li class="chapter" data-level="4.0.4" data-path="writing-functions.html"><a href="writing-functions.html#return-values"><i class="fa fa-check"></i><b>4.0.4</b> Return Values</a></li>
<li class="chapter" data-level="4.1" data-path="writing-functions.html"><a href="writing-functions.html#types-of-functions"><i class="fa fa-check"></i><b>4.1</b> Types of Functions</a><ul>
<li class="chapter" data-level="4.1.1" data-path="writing-functions.html"><a href="writing-functions.html#anonymous-functions"><i class="fa fa-check"></i><b>4.1.1</b> Anonymous Functions</a></li>
<li class="chapter" data-level="4.1.2" data-path="writing-functions.html"><a href="writing-functions.html#lists-of-functions"><i class="fa fa-check"></i><b>4.1.2</b> Lists of Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>5</b> Functional Programming</a><ul>
<li class="chapter" data-level="5.0.1" data-path="functional-programming.html"><a href="functional-programming.html#assignment-1"><i class="fa fa-check"></i><b>5.0.1</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>6</b> Reproducible Research</a><ul>
<li class="chapter" data-level="6.1" data-path="reproducible-research.html"><a href="reproducible-research.html#importance-of-reproducible-research"><i class="fa fa-check"></i><b>6.1</b> Importance of Reproducible Research</a></li>
<li class="chapter" data-level="6.2" data-path="reproducible-research.html"><a href="reproducible-research.html#best-practices-in-reproducible-research"><i class="fa fa-check"></i><b>6.2</b> “Best” Practices in Reproducible Research</a></li>
<li class="chapter" data-level="6.3" data-path="reproducible-research.html"><a href="reproducible-research.html#reproducible-research-tools"><i class="fa fa-check"></i><b>6.3</b> Reproducible Research Tools</a></li>
<li class="chapter" data-level="6.4" data-path="reproducible-research.html"><a href="reproducible-research.html#in-line-code"><i class="fa fa-check"></i><b>6.4</b> In-line code</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>7</b> Rmarkdown</a><ul>
<li class="chapter" data-level="7.1" data-path="rmarkdown.html"><a href="rmarkdown.html#good-practices"><i class="fa fa-check"></i><b>7.1</b> Good Practices</a></li>
<li class="chapter" data-level="7.2" data-path="rmarkdown.html"><a href="rmarkdown.html#some-gotchas-for-knitting"><i class="fa fa-check"></i><b>7.2</b> Some ‘gotchas’ for knitting</a></li>
<li class="chapter" data-level="7.3" data-path="rmarkdown.html"><a href="rmarkdown.html#extracting-r-code"><i class="fa fa-check"></i><b>7.3</b> Extracting R Code</a></li>
<li class="chapter" data-level="7.4" data-path="rmarkdown.html"><a href="rmarkdown.html#chunk-labels"><i class="fa fa-check"></i><b>7.4</b> Chunk Labels</a></li>
<li class="chapter" data-level="7.5" data-path="rmarkdown.html"><a href="rmarkdown.html#global-options"><i class="fa fa-check"></i><b>7.5</b> Global Options</a></li>
<li class="chapter" data-level="7.6" data-path="rmarkdown.html"><a href="rmarkdown.html#digits-of-output"><i class="fa fa-check"></i><b>7.6</b> Digits of Output</a></li>
<li class="chapter" data-level="7.7" data-path="rmarkdown.html"><a href="rmarkdown.html#showinghiding-output-options"><i class="fa fa-check"></i><b>7.7</b> Showing/Hiding Output Options</a></li>
<li class="chapter" data-level="7.8" data-path="rmarkdown.html"><a href="rmarkdown.html#figures"><i class="fa fa-check"></i><b>7.8</b> Figures</a></li>
<li class="chapter" data-level="7.9" data-path="rmarkdown.html"><a href="rmarkdown.html#adding-tables"><i class="fa fa-check"></i><b>7.9</b> Adding Tables</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="apply-functions.html"><a href="apply-functions.html"><i class="fa fa-check"></i><b>8</b> Apply functions</a><ul>
<li class="chapter" data-level="8.1" data-path="apply-functions.html"><a href="apply-functions.html#lapply"><i class="fa fa-check"></i><b>8.1</b> lapply</a></li>
<li class="chapter" data-level="8.2" data-path="apply-functions.html"><a href="apply-functions.html#additional-apply-style-functions"><i class="fa fa-check"></i><b>8.2</b> Additional apply-style functions</a></li>
<li class="chapter" data-level="8.3" data-path="apply-functions.html"><a href="apply-functions.html#apply"><i class="fa fa-check"></i><b>8.3</b> apply</a></li>
<li class="chapter" data-level="8.4" data-path="apply-functions.html"><a href="apply-functions.html#sapply"><i class="fa fa-check"></i><b>8.4</b> sapply</a></li>
<li class="chapter" data-level="8.5" data-path="apply-functions.html"><a href="apply-functions.html#vapply"><i class="fa fa-check"></i><b>8.5</b> vapply</a></li>
<li class="chapter" data-level="8.6" data-path="apply-functions.html"><a href="apply-functions.html#tapply"><i class="fa fa-check"></i><b>8.6</b> tapply</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="thinking-in-r.html"><a href="thinking-in-r.html"><i class="fa fa-check"></i><b>9</b> Thinking in R</a><ul>
<li class="chapter" data-level="9.1" data-path="thinking-in-r.html"><a href="thinking-in-r.html#memory-allocation"><i class="fa fa-check"></i><b>9.1</b> Memory Allocation</a></li>
<li class="chapter" data-level="9.2" data-path="thinking-in-r.html"><a href="thinking-in-r.html#vectorization"><i class="fa fa-check"></i><b>9.2</b> Vectorization</a></li>
<li class="chapter" data-level="9.3" data-path="thinking-in-r.html"><a href="thinking-in-r.html#vectorization-tips"><i class="fa fa-check"></i><b>9.3</b> Vectorization Tips</a></li>
<li class="chapter" data-level="9.4" data-path="thinking-in-r.html"><a href="thinking-in-r.html#indexing"><i class="fa fa-check"></i><b>9.4</b> Indexing</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="common-commands.html"><a href="common-commands.html"><i class="fa fa-check"></i><b>10</b> Common Commands</a><ul>
<li class="chapter" data-level="10.1" data-path="common-commands.html"><a href="common-commands.html#vocabulary"><i class="fa fa-check"></i><b>10.1</b> Vocabulary</a></li>
<li class="chapter" data-level="10.2" data-path="common-commands.html"><a href="common-commands.html#the-basics"><i class="fa fa-check"></i><b>10.2</b> The basics</a></li>
<li class="chapter" data-level="10.3" data-path="common-commands.html"><a href="common-commands.html#common-data-structures"><i class="fa fa-check"></i><b>10.3</b> Common data structures</a></li>
<li class="chapter" data-level="10.4" data-path="common-commands.html"><a href="common-commands.html#statistics"><i class="fa fa-check"></i><b>10.4</b> Statistics</a></li>
<li class="chapter" data-level="10.5" data-path="common-commands.html"><a href="common-commands.html#working-with-r"><i class="fa fa-check"></i><b>10.5</b> Working with R</a></li>
<li class="chapter" data-level="10.6" data-path="common-commands.html"><a href="common-commands.html#io"><i class="fa fa-check"></i><b>10.6</b> I/O</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="inputoutput.html"><a href="inputoutput.html"><i class="fa fa-check"></i><b>11</b> Input/Output</a><ul>
<li class="chapter" data-level="11.1" data-path="inputoutput.html"><a href="inputoutput.html#fast-io"><i class="fa fa-check"></i><b>11.1</b> Fast I/O</a></li>
<li class="chapter" data-level="11.2" data-path="inputoutput.html"><a href="inputoutput.html#built-in-io"><i class="fa fa-check"></i><b>11.2</b> Built-in I/O</a></li>
<li class="chapter" data-level="11.3" data-path="inputoutput.html"><a href="inputoutput.html#some-tidbits"><i class="fa fa-check"></i><b>11.3</b> Some tidbits</a></li>
<li class="chapter" data-level="11.4" data-path="inputoutput.html"><a href="inputoutput.html#output"><i class="fa fa-check"></i><b>11.4</b> Output</a><ul>
<li class="chapter" data-level="11.4.1" data-path="inputoutput.html"><a href="inputoutput.html#your-task-1"><i class="fa fa-check"></i><b>11.4.1</b> Your task</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="custom-io.html"><a href="custom-io.html"><i class="fa fa-check"></i><b>12</b> Custom I/O</a></li>
<li class="chapter" data-level="13" data-path="pragmatic-programming.html"><a href="pragmatic-programming.html"><i class="fa fa-check"></i><b>13</b> Pragmatic Programming</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Pharmaceutical Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-structures" class="section level1">
<h1><span class="header-section-number">3</span> Control Structures</h1>
<p>Control structures offer the ability to control how your code executes and what is returned. R was designed to abstract away many of the basic use-cases so you can get a long way without ever explicitly using some of these constructs, however, both the concepts and techniques are vital to appreciate as more complex problems arise.</p>
<div id="if-statements" class="section level2">
<h2><span class="header-section-number">3.1</span> IF statements</h2>
<p><code>if</code> statements are the most basic control structure, and have the structure and syntax:</p>
<pre><code>if (&lt;condition&gt;) {
## do something
}</code></pre>
<p>One basic use case is when doing clinical trial simulations where many reps are run, it can be useful to only occasionally print status updates. In pseudocode the objective would be to have code that looked like</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">for (rep in <span class="dv">1</span>:<span class="dv">50</span>) {
  <span class="co">#every 10 reps print a status update</span>
  if(rep %%<span class="st"> </span><span class="dv">10</span> ==<span class="st"> </span><span class="dv">0</span>) {
    <span class="co"># %% is the modulus operator, a nice way to detect every 10th rep</span>
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;starting rep&quot;</span>, rep))
  }
  <span class="co"># run some more code</span>
}
<span class="co">#&gt; [1] &quot;starting rep 10&quot;</span>
<span class="co">#&gt; [1] &quot;starting rep 20&quot;</span>
<span class="co">#&gt; [1] &quot;starting rep 30&quot;</span>
<span class="co">#&gt; [1] &quot;starting rep 40&quot;</span>
<span class="co">#&gt; [1] &quot;starting rep 50&quot;</span></code></pre></div>
<p>Another common pattern is to handle certain scenarios in a function, again using print (since it is easy to demonstrate) for whether a function prints out a message before returning the values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">chatty_sum &lt;-<span class="st"> </span>function(a, b, <span class="dt">verbose=</span><span class="ot">FALSE</span>) {
  if(verbose) {
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;calculating the sum of a:&quot;</span>,a, <span class="st">&quot;and b:&quot;</span>, b))
  }
  <span class="kw">return</span>(a+b)
}
<span class="kw">chatty_sum</span>(<span class="dv">1</span>, <span class="dv">3</span>)
<span class="co">#&gt; [1] 4</span>

<span class="kw">chatty_sum</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dt">verbose=</span><span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;calculating the sum of a: 2 and b: 4&quot;</span>
<span class="co">#&gt; [1] 6</span></code></pre></div>
<p>The <code>chatty_sum</code> function also illustrates another concept about <code>if</code> statements, <strong>they are inherently truthy</strong>, which means that if the condition you are evaluating naturally resolves to be <code>TRUE</code> or <code>FALSE</code>, you do not need to explicitly evaluate it. In this case, an example is worth a thousand words:</p>
<p><em>Correct way</em></p>
<pre><code>condition &lt;- TRUE

if (condition) {

}
</code></pre>
<p><em>INCORRECT way</em></p>
<pre><code>condition &lt;- TRUE

if(condition ==TRUE) {
# do stuff
}</code></pre>
<p>It is key to understand the inherent truthiness of <strong>if</strong> statements to further extend their usefulness. For example, if you need to execute the code inside the if statement when the tested condition is <strong>FALSE</strong> you can do-so using the <code>!</code> (often pronounced as ‘bang’) operator, which means <em>not</em>, so we are saying we want to run the code when it is <strong>not FALSE</strong>, which is equivalent to <strong>TRUE</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">good_condition &lt;-<span class="st"> </span><span class="ot">FALSE</span>
if(!good_condition) {
  <span class="kw">print</span>(<span class="st">&quot;bad news!&quot;</span>)
}
<span class="co">#&gt; [1] &quot;bad news!&quot;</span></code></pre></div>
</div>
<div id="else" class="section level2">
<h2><span class="header-section-number">3.2</span> ELSE</h2>
<p>if statements are powerful to testing single conditions, however in may situations it is valuable to to also do something different if the condition is NOT met.</p>
<p>In <strong>select</strong> situations you may want to cover each of these scenarios via multiple if statements</p>
<pre><code>if (&lt;condition1&gt;) ## do something
if (&lt;condition2&gt;) ## do something
if (&lt;condition3&gt;) ## do something</code></pre>
<p>However this is generally frowned upon as it makes the code harder to make sense of, and easier to have unexpected conditions when a later condition is also TRUE, thereby overwriting a the results of a earlier TRUE condition.</p>
<p>Instead, the <code>else</code> block offers a separate chunk of code which will only run if the if condition is FALSE.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if (&lt;condition&gt;) {
## do something
} else {
## do something else
}</code></pre></div>
<p>This can be further expanded to handle multiple conditions, however the value of this technique is only the code in the block with the <em>first</em> block that evaluates to TRUE will be run, and if no blocks are TRUE, then the code in the else block will run.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if(&lt;condition&gt;) {
    ## do stuff
} else if (&lt;conditition2&gt;) {
    ## do other stuff
    } else {
    ## do something for any other condition
}</code></pre></div>
</div>
<div id="ifelse" class="section level2">
<h2><span class="header-section-number">3.3</span> ifelse</h2>
<p>Full if/else blocks can be tedious to write out, and do not always play well with R’s vectorization principles. Hence, a ‘shortcut’ block, <code>ifelse</code> is also available. <code>ifelse</code> is most likely going to be your mostly frequently used control statement used during the data analysis process so make sure it is well understood!</p>
<p><code>ifelse</code> blocks are designed with the format <code>ifelse(&lt;test condition&gt;, &lt;if yes&gt;, &lt;if no&gt;)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
gender &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>)

ismale &lt;-<span class="st"> </span><span class="kw">ifelse</span>(gender ==<span class="st"> &quot;Male&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)

gender
<span class="co">#&gt; [1] &quot;Male&quot;   &quot;Male&quot;   &quot;Female&quot;</span>
ismale
<span class="co">#&gt; [1] 1 1 0</span></code></pre></div>
<p>In the above block, the test is saying, go through the <strong>gender</strong> vector, and for each element, test if that value is equal to “Male”, then return a value of 1, and if it is <strong>anything other than Male</strong>, return 0. Since this is performed for each element separately, it will return a vector the same length as the tested vector.</p>
<p>You can even nest <code>ifelse</code> statements</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">race &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;hispanic&quot;</span>, <span class="st">&quot;asian&quot;</span>, <span class="st">&quot;alien&quot;</span>)

race_num &lt;-<span class="st"> </span><span class="kw">ifelse</span>(race ==<span class="st"> &quot;white&quot;</span>, <span class="dv">1</span>, 
                   <span class="kw">ifelse</span>(race ==<span class="st"> &quot;black&quot;</span>, <span class="dv">2</span>, 
                          <span class="kw">ifelse</span>(race ==<span class="st"> &quot;hispanic&quot;</span>, <span class="dv">3</span>, <span class="dv">4</span>)))
race
<span class="co">#&gt; [1] &quot;white&quot;    &quot;black&quot;    &quot;hispanic&quot; &quot;asian&quot;    &quot;alien&quot;</span>
race_num
<span class="co">#&gt; [1] 1 2 3 4 4</span></code></pre></div>
<p>Notice that in this technique if none if the <code>TRUE</code> conditions are met, it will be assigned the value <code>4</code>. This is a good practice to make sure you catch all possible values. The last false value should always be used to handle ‘all other conditions’.</p>
<p>For example</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">race &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;hispanic&quot;</span>)

## bad way
race_num &lt;-<span class="st"> </span><span class="kw">ifelse</span>(race ==<span class="st">&quot;white&quot;</span>, <span class="dv">1</span>, 
       <span class="kw">ifelse</span>(race ==<span class="st"> &quot;black&quot;</span>, <span class="dv">2</span>, 
              <span class="dv">3</span>)) <span class="co"># expect 3 to be hispanics</span>
race_num
<span class="co">#&gt; [1] 1 2 3</span></code></pre></div>
<p>Works as expected, however if you accidentally miss a condition or other conditions are present</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">race &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;hispanic&quot;</span>, <span class="st">&quot;asian&quot;</span>, <span class="st">&quot;alien&quot;</span>)
race_num &lt;-<span class="st"> </span><span class="kw">ifelse</span>(race ==<span class="st">&quot;white&quot;</span>, <span class="dv">1</span>, 
       <span class="kw">ifelse</span>(race ==<span class="st"> &quot;black&quot;</span>, <span class="dv">2</span>, <span class="dv">3</span>)) 
race_num 
<span class="co">#&gt; [1] 1 2 3 3 3</span></code></pre></div>
<p>You can silently get unexpected assigned values.</p>
<p>One technique that can be used is to use the final condition as <code>-99</code> or some other very obvious flag to check that you captured all conditions</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">race &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;hispanic&quot;</span>, <span class="st">&quot;asian&quot;</span>, <span class="st">&quot;alien&quot;</span>)
race_num &lt;-<span class="st"> </span><span class="kw">ifelse</span>(race ==<span class="st">&quot;white&quot;</span>, <span class="dv">1</span>, 
       <span class="kw">ifelse</span>(race ==<span class="st"> &quot;black&quot;</span>, <span class="dv">2</span>, 
              <span class="kw">ifelse</span>(race ==<span class="st"> &quot;hispanic&quot;</span>, <span class="dv">3</span>, -<span class="dv">99</span>))) 
race_num 
<span class="co">#&gt; [1]   1   2   3 -99 -99</span>

if(<span class="kw">any</span>(race_num &lt;<span class="st"> </span><span class="dv">0</span>)) {
  <span class="kw">print</span>(<span class="st">&quot;missed a condition&quot;</span>)
} else {
  <span class="kw">print</span>(<span class="st">&quot;handled all&quot;</span>)
}
<span class="co">#&gt; [1] &quot;missed a condition&quot;</span></code></pre></div>
<p>And it even makes it easy to subset out the conditions missed to find and correct them</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">race[race_num ==<span class="st"> </span>-<span class="dv">99</span>]
<span class="co">#&gt; [1] &quot;asian&quot; &quot;alien&quot;</span></code></pre></div>
<p>see that missed alien and asian</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">race &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;hispanic&quot;</span>, <span class="st">&quot;asian&quot;</span>, <span class="st">&quot;alien&quot;</span>)
race_num &lt;-<span class="st"> </span><span class="kw">ifelse</span>(race ==<span class="st">&quot;white&quot;</span>, <span class="dv">1</span>, 
       <span class="kw">ifelse</span>(race ==<span class="st"> &quot;black&quot;</span>, <span class="dv">2</span>, 
              <span class="kw">ifelse</span>(race ==<span class="st"> &quot;hispanic&quot;</span>, <span class="dv">3</span>, 
                     <span class="kw">ifelse</span>(race ==<span class="st"> &quot;asian&quot;</span>, <span class="dv">4</span>, 
                            <span class="kw">ifelse</span>(race ==<span class="st"> &quot;alien&quot;</span>, <span class="dv">5</span>, -<span class="dv">99</span>)
                            )
                     )
              )
       )
race_num 
<span class="co">#&gt; [1] 1 2 3 4 5</span>

if(<span class="kw">any</span>(race_num &lt;<span class="st"> </span><span class="dv">0</span>)) {
  <span class="kw">print</span>(<span class="st">&quot;missed a condition&quot;</span>)
} else {
  <span class="kw">print</span>(<span class="st">&quot;handled all&quot;</span>)
}
<span class="co">#&gt; [1] &quot;handled all&quot;</span></code></pre></div>
</div>
<div id="loops" class="section level2">
<h2><span class="header-section-number">3.4</span> Loops</h2>
<ul>
<li><code>for</code> looping structure</li>
</ul>
<p>Loops can be constructed based on a specified vector length or by specific indices</p>
<pre><code>for (i in 1:5) {
    store_results[i] &lt;- do_something()
}</code></pre>
<p>While you may be more familiar with the construct:</p>
<pre><code>for(i in 1:length(x)) {
     results[i] &lt;- do_something(x[i])
}</code></pre>
<p>This is actually a “bad” habit that can run you into trouble with objects of length(0)</p>
<p><code>seq_along</code> is a ‘safer’ option that has the exact same effect if you’re starting from the first indice, with the added benefit of failing more gracefully.</p>
<ul>
<li><code>next</code> - skip iteration of loop</li>
</ul>
<p><code>next</code> can be used to skip iterations in a loop, so as soon as a <code>next</code> is seen, the for loop moves to the next iteration and will ignore any code remaining from the existing iteration.</p>
<p>This is useful if you are checking a condition at the beginning and if that condition is met go on so you don’t run extra unnecessary code.</p>
</div>
<div id="more-for-loop-information" class="section level2">
<h2><span class="header-section-number">3.5</span> more For loop information</h2>
<p>Given a for loop where certain elements you do not want anything to happen, the <code>next</code> keyword allows one to immediately go back to the top of the loop and start with the next indice.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">for(i in <span class="dv">1</span>:<span class="dv">10</span>) {
    if (i &lt;<span class="st"> </span><span class="dv">3</span>) next
    <span class="kw">print</span>(i)
}
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 8</span>
<span class="co">#&gt; [1] 9</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>This is convenient if there is additional code below that you do not want R to run/evaluate given certain conditions are met, without having to resort to complex or nested <code>if</code> statments.</p>
<p><code>break</code> break the execution of a loop. Unlike next, this will actually halt the loop completely and procede on to any later code after the loop.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## some code

for (i in <span class="dv">1</span>:<span class="dv">10</span>) {
  start &lt;-<span class="st"> </span>i
  <span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;before break, rep: &quot;</span> ,  i))
  if (i ==<span class="st"> </span><span class="dv">5</span>) {
    break
  }
  <span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;after break, rep: &quot;</span> ,  i))
  finished &lt;-<span class="st"> </span>i
}
<span class="co">#&gt; [1] &quot;before break, rep: 1&quot;</span>
<span class="co">#&gt; [1] &quot;after break, rep: 1&quot;</span>
<span class="co">#&gt; [1] &quot;before break, rep: 2&quot;</span>
<span class="co">#&gt; [1] &quot;after break, rep: 2&quot;</span>
<span class="co">#&gt; [1] &quot;before break, rep: 3&quot;</span>
<span class="co">#&gt; [1] &quot;after break, rep: 3&quot;</span>
<span class="co">#&gt; [1] &quot;before break, rep: 4&quot;</span>
<span class="co">#&gt; [1] &quot;after break, rep: 4&quot;</span>
<span class="co">#&gt; [1] &quot;before break, rep: 5&quot;</span></code></pre></div>
<p>In the above example, we see a conditional check where if <code>i == 5</code> break out of the loop. As the print statements show, only 4 values are printed for <code>after break</code>, as the last rep that executed code to the end of the loop was <code>4</code>, however you can see that the fifth replicate did start, and executed code up until the <code>break</code> statement.</p>
<p>Finally, in the context of a function, a for loop (or any other code) can be prematurely completed by using a <code>return</code> statement.</p>
<p><code>return</code> - exit function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">number_is_present &lt;-<span class="st"> </span>function(nums, test_number) {
  for (i in <span class="kw">seq_along</span>(nums)) {
    if(i ==<span class="st"> </span>test_number) {
      <span class="kw">print</span>(<span class="st">&quot;number found!&quot;</span>)
      <span class="kw">return</span>(<span class="ot">TRUE</span>) 
    }
  }
  <span class="kw">print</span>(<span class="st">&quot;completed scanning, number not found!&quot;</span>)
  <span class="kw">return</span>(<span class="ot">FALSE</span>)
}

<span class="kw">number_is_present</span>(<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">5</span>)
<span class="co">#&gt; [1] &quot;number found!&quot;</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="kw">number_is_present</span>(<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">12</span>)
<span class="co">#&gt; [1] &quot;completed scanning, number not found!&quot;</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>In the example above, it makes sense to not continue scanning more numbers if we already know that the number is present, so by returning as soon as the number is detected, we prevent the need to continue running the function to completion.</p>
</div>
<div id="while-loops" class="section level2">
<h2><span class="header-section-number">3.6</span> While loops</h2>
<ul>
<li><code>while</code> - execute loop <em>while</em> tested condition is true. Often used if you need to evaluate until a certain condition is met. <strong>danger</strong>: can potentially result in infinite loops if not written properly or if the tested condition is never met.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">count &lt;-<span class="st"> </span><span class="dv">0</span>
while(count &lt;<span class="st"> </span><span class="dv">10</span>) {
    <span class="kw">print</span>(count)
    count &lt;-<span class="st"> </span>count +<span class="st"> </span><span class="dv">1</span>
}
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 8</span>
<span class="co">#&gt; [1] 9</span></code></pre></div>
<p>While loops are frankly not used often for data analysis tasks. In most cases, a for-loop, the in-built apply functions, or using vectorization is be preferable. While loops can be valuable for instances when you are unsure about when the final criteria required will be satisfied. For example, given a resampling function that you must resample from a mathematical distribution, however want to apply some other physiological constraints such that some samples might need to be resampled again before being stored.</p>
<p>A simple example of this is, given simulations from a truncated normal distribution, where only values greater than 0.1 should be kept.</p>
<p>A couple different ways this could be mentally managed</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># while loop inside a for loop</span>
result &lt;-<span class="st"> </span><span class="kw">c</span>()
for (i in <span class="dv">1</span>:<span class="dv">10</span>) {
  sample &lt;-<span class="st"> </span><span class="dv">0</span>
  while (sample &lt;<span class="st"> </span><span class="fl">0.1</span>) {
    ## will always fire the first time per rep since at first sample will be 0
    <span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;sample less than 0.1, resampling on rep&quot;</span>, i))
    sample &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1</span>, <span class="dt">mean =</span> <span class="fl">0.5</span>, <span class="dt">sd =</span> <span class="dv">2</span>)
  }
  result &lt;-<span class="st"> </span><span class="kw">c</span>(result, sample)
}
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep1&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep1&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep2&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep2&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep3&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep4&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep5&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep5&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep5&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep5&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep5&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep5&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep6&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep7&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep7&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep8&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep8&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep8&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep9&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep10&quot;</span>
<span class="co">#&gt; [1] &quot;sample less than 0.1, resampling on rep10&quot;</span>

<span class="co"># in the end get our nice set of 10 results</span>
result
<span class="co">#&gt;  [1] 1.011 0.489 1.743 2.797 1.758 4.630 1.525 0.395 1.586 1.436</span></code></pre></div>
<p>The problem with this result is it reallocates a new vector each time a new sample is concatenated, so for large numbers of samples will be quite slow. Instead, we can also manage via vectorization. Since we are going to do all the calculations at once, we need to change our logic in how we are resampling.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="fl">0.5</span>, <span class="dv">2</span>)
while(<span class="kw">any</span>(result &lt;<span class="st"> </span><span class="fl">0.1</span>)) {
  <span class="kw">print</span>(<span class="st">&quot;at least 1 result still below 0.1, resampling those values&quot;</span>) 
  <span class="co"># find which indices correspond to values less than 0.1</span>
  to_low &lt;-<span class="st"> </span><span class="kw">which</span>(result &lt;<span class="st"> </span><span class="fl">0.1</span>)  
  <span class="co"># replace them with resampled values</span>
  result[to_low] &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">length</span>(to_low), <span class="fl">0.5</span>, <span class="dv">2</span>)
}
<span class="co">#&gt; [1] &quot;at least 1 result still below 0.1, resampling those values&quot;</span>

result
<span class="co">#&gt;  [1] 1.226 0.853 1.976 4.277 0.305 0.987 0.468 3.747 0.724 2.371</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">looped_resampling &lt;-<span class="st"> </span>function(<span class="dt">total_num =</span> <span class="dv">100</span>) {
  result &lt;-<span class="st"> </span><span class="kw">c</span>()
  for (i in <span class="dv">1</span>:total_num) {
    sample &lt;-<span class="st"> </span><span class="dv">0</span>
    while (sample &lt;<span class="st"> </span><span class="fl">0.1</span>) {
      ## will always fire the first time per rep since at first sample will be 0
      <span class="kw">message</span>(<span class="kw">paste0</span>(<span class="st">&quot;sample less than 0.1, resampling on rep&quot;</span>, i))
      sample &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1</span>, <span class="dt">mean =</span> <span class="fl">0.5</span>, <span class="dt">sd =</span> <span class="dv">2</span>)
    }
    result &lt;-<span class="st"> </span><span class="kw">c</span>(result, sample)
  }
  result
}

vectorized_resampling &lt;-<span class="st"> </span>function(<span class="dt">total_num =</span> <span class="dv">100</span>) {
  result &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="fl">0.5</span>, <span class="dv">2</span>)
  while(<span class="kw">any</span>(result &lt;<span class="st"> </span><span class="fl">0.1</span>)) {
    <span class="kw">message</span>(<span class="st">&quot;at least 1 result still below 0.1, resampling those values&quot;</span>) 
    <span class="co"># find which indices correspond to values less than 0.1</span>
    to_low &lt;-<span class="st"> </span><span class="kw">which</span>(result &lt;<span class="st"> </span><span class="fl">0.1</span>)  
    <span class="co"># replace them with resampled values</span>
    result[to_low] &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">length</span>(to_low), <span class="fl">0.5</span>, <span class="dv">2</span>)
  }
  result
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: &#39;dplyr&#39;</span>
<span class="co">#&gt; The following objects are masked from &#39;package:stats&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw">library</span>(tibble)
res &lt;-<span class="st"> </span><span class="kw">suppressMessages</span>(microbenchmark::<span class="kw">microbenchmark</span>(
  <span class="kw">looped_resampling</span>(),
  <span class="kw">vectorized_resampling</span>(),
  <span class="dt">times =</span> 20L
))
res_df &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">expr =</span> res$expr, <span class="dt">timing =</span> res$time)

res_df %&gt;%<span class="st"> </span><span class="kw">group_by</span>(expr) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">min =</span> <span class="kw">min</span>(timing), 
            <span class="dt">mean =</span> <span class="kw">mean</span>(timing),
            <span class="dt">max =</span> <span class="kw">max</span>(timing))
<span class="co">#&gt; # A tibble: 2 × 4</span>
<span class="co">#&gt;                      expr      min     mean      max</span>
<span class="co">#&gt;                    &lt;fctr&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1     looped_resampling() 37744495 44265336 52146784</span>
<span class="co">#&gt; 2 vectorized_resampling()   234257   821522  1856040</span>
ggplot2::<span class="kw">autoplot</span>(res)</code></pre></div>
<p><img src="control-structures_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="assignments" class="section level2">
<h2><span class="header-section-number">3.7</span> Assignments</h2>
<ul>
<li><p>within theoph add a new column called <code>ISEVEN</code> - for all subjucts with even ID numbers assign a value 1, for all odds assign value 0</p></li>
<li><p>write a creatinine clearance calculator function - use it to calculate the CRCL for some simulated data in a vectorized manner</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="core-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="writing-functions.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dpastoor/r-pharmsciences/edit/master/control-structures.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
