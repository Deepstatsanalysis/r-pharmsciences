<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Pharmaceutical Sciences</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This book will teach you how to do data science with R">
  <meta name="generator" content="bookdown 0.0.71 and GitBook 2.6.7">

  <meta property="og:title" content="R for Pharmaceutical Sciences" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://www.devinpastoor.com/r-pharmsciences/" />
  
  <meta property="og:description" content="This book will teach you how to do data science with R" />
  <meta name="github-repo" content="dpastoor/r-pharmsciences" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Pharmaceutical Sciences" />
  <meta name="twitter:site" content="@devinpastoor" />
  <meta name="twitter:description" content="This book will teach you how to do data science with R" />
  

<meta name="author" content="Devin Pastoor">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="rmarkdown.html">
<link rel="next" href="core-r.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="r-pharmsciences.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Pharmaceutical Sciences </a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i><b>0.1</b> How to read this book</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>1</b> Reproducible Research</a><ul>
<li class="chapter" data-level="1.1" data-path="reproducible-research.html"><a href="reproducible-research.html#importance-of-reproducible-research"><i class="fa fa-check"></i><b>1.1</b> Importance of Reproducible Research</a></li>
<li class="chapter" data-level="1.2" data-path="reproducible-research.html"><a href="reproducible-research.html#best-practices-in-reproducible-research"><i class="fa fa-check"></i><b>1.2</b> “Best” Practices in Reproducible Research</a></li>
<li class="chapter" data-level="1.3" data-path="reproducible-research.html"><a href="reproducible-research.html#reproducible-research-tools"><i class="fa fa-check"></i><b>1.3</b> Reproducible Research Tools</a></li>
<li class="chapter" data-level="1.4" data-path="reproducible-research.html"><a href="reproducible-research.html#in-line-code"><i class="fa fa-check"></i><b>1.4</b> In-line code</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>2</b> Rmarkdown</a><ul>
<li class="chapter" data-level="2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#good-practices"><i class="fa fa-check"></i><b>2.1</b> Good Practices</a></li>
<li class="chapter" data-level="2.2" data-path="rmarkdown.html"><a href="rmarkdown.html#some-gotchas-for-knitting"><i class="fa fa-check"></i><b>2.2</b> Some ‘gotchas’ for knitting</a></li>
<li class="chapter" data-level="2.3" data-path="rmarkdown.html"><a href="rmarkdown.html#extracting-r-code"><i class="fa fa-check"></i><b>2.3</b> Extracting R Code</a></li>
<li class="chapter" data-level="2.4" data-path="rmarkdown.html"><a href="rmarkdown.html#chunk-labels"><i class="fa fa-check"></i><b>2.4</b> Chunk Labels</a></li>
<li class="chapter" data-level="2.5" data-path="rmarkdown.html"><a href="rmarkdown.html#global-options"><i class="fa fa-check"></i><b>2.5</b> Global Options</a></li>
<li class="chapter" data-level="2.6" data-path="rmarkdown.html"><a href="rmarkdown.html#digits-of-output"><i class="fa fa-check"></i><b>2.6</b> Digits of Output</a></li>
<li class="chapter" data-level="2.7" data-path="rmarkdown.html"><a href="rmarkdown.html#showinghiding-output-options"><i class="fa fa-check"></i><b>2.7</b> Showing/Hiding Output Options</a></li>
<li class="chapter" data-level="2.8" data-path="rmarkdown.html"><a href="rmarkdown.html#figures"><i class="fa fa-check"></i><b>2.8</b> Figures</a></li>
<li class="chapter" data-level="2.9" data-path="rmarkdown.html"><a href="rmarkdown.html#cross-referencing"><i class="fa fa-check"></i><b>2.9</b> Cross-Referencing</a></li>
<li class="chapter" data-level="2.10" data-path="rmarkdown.html"><a href="rmarkdown.html#adding-tables"><i class="fa fa-check"></i><b>2.10</b> Adding Tables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html"><i class="fa fa-check"></i><b>3</b> Intro to Data Manipulation</a><ul>
<li class="chapter" data-level="3.1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#subsetting"><i class="fa fa-check"></i><b>3.1</b> Subsetting</a><ul>
<li class="chapter" data-level="3.1.1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#try-it-yourself"><i class="fa fa-check"></i><b>3.1.1</b> Try it yourself</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#logical-subsetting"><i class="fa fa-check"></i><b>3.2</b> Logical Subsetting</a></li>
<li class="chapter" data-level="3.3" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#common-subsetting-situations-and-some-useful-functions"><i class="fa fa-check"></i><b>3.3</b> Common Subsetting Situations and Some Useful Functions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#pop-quiz-question"><i class="fa fa-check"></i><b>3.3.1</b> Pop quiz question</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#data-manipulation"><i class="fa fa-check"></i><b>3.4</b> Data Manipulation</a></li>
<li class="chapter" data-level="3.5" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#renaming-columns"><i class="fa fa-check"></i><b>3.5</b> renaming columns</a></li>
<li class="chapter" data-level="3.6" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#reordering-rowscolumns"><i class="fa fa-check"></i><b>3.6</b> reordering rows/columns</a></li>
<li class="chapter" data-level="3.7" data-path="intro-to-data-manipulation.html"><a href="intro-to-data-manipulation.html#keys"><i class="fa fa-check"></i><b>3.7</b> Keys</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="core-r.html"><a href="core-r.html"><i class="fa fa-check"></i><b>4</b> Core R</a><ul>
<li class="chapter" data-level="4.1" data-path="core-r.html"><a href="core-r.html#data-structures"><i class="fa fa-check"></i><b>4.1</b> Data Structures</a></li>
<li class="chapter" data-level="4.2" data-path="core-r.html"><a href="core-r.html#vectors"><i class="fa fa-check"></i><b>4.2</b> Vectors</a></li>
<li class="chapter" data-level="4.3" data-path="core-r.html"><a href="core-r.html#coercion"><i class="fa fa-check"></i><b>4.3</b> Coercion</a><ul>
<li class="chapter" data-level="4.3.1" data-path="core-r.html"><a href="core-r.html#coercion-chain"><i class="fa fa-check"></i><b>4.3.1</b> Coercion chain</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="core-r.html"><a href="core-r.html#attributes"><i class="fa fa-check"></i><b>4.4</b> Attributes</a></li>
<li class="chapter" data-level="4.5" data-path="core-r.html"><a href="core-r.html#lists"><i class="fa fa-check"></i><b>4.5</b> Lists</a></li>
<li class="chapter" data-level="4.6" data-path="core-r.html"><a href="core-r.html#data-frames"><i class="fa fa-check"></i><b>4.6</b> Data Frames</a></li>
<li class="chapter" data-level="4.7" data-path="core-r.html"><a href="core-r.html#creation-vs-coercion"><i class="fa fa-check"></i><b>4.7</b> Creation vs Coercion</a></li>
<li class="chapter" data-level="4.8" data-path="core-r.html"><a href="core-r.html#combining-data-structuresobjects"><i class="fa fa-check"></i><b>4.8</b> Combining Data Structures/Objects</a></li>
<li class="chapter" data-level="4.9" data-path="core-r.html"><a href="core-r.html#one-last-combining-catch"><i class="fa fa-check"></i><b>4.9</b> One last combining catch</a></li>
<li class="chapter" data-level="4.10" data-path="core-r.html"><a href="core-r.html#factors"><i class="fa fa-check"></i><b>4.10</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>5</b> Writing Functions</a><ul>
<li class="chapter" data-level="5.0.1" data-path="writing-functions.html"><a href="writing-functions.html#default-behaviors"><i class="fa fa-check"></i><b>5.0.1</b> Default Behaviors</a></li>
<li class="chapter" data-level="5.0.2" data-path="writing-functions.html"><a href="writing-functions.html#parameter-matching"><i class="fa fa-check"></i><b>5.0.2</b> Parameter Matching</a></li>
<li class="chapter" data-level="5.0.3" data-path="writing-functions.html"><a href="writing-functions.html#passing-on-parameters"><i class="fa fa-check"></i><b>5.0.3</b> Passing on parameters</a></li>
<li class="chapter" data-level="5.0.4" data-path="writing-functions.html"><a href="writing-functions.html#return-values"><i class="fa fa-check"></i><b>5.0.4</b> Return Values</a></li>
<li class="chapter" data-level="5.1" data-path="writing-functions.html"><a href="writing-functions.html#types-of-functions"><i class="fa fa-check"></i><b>5.1</b> Types of Functions</a><ul>
<li class="chapter" data-level="5.1.1" data-path="writing-functions.html"><a href="writing-functions.html#anonymous-functions"><i class="fa fa-check"></i><b>5.1.1</b> Anonymous Functions</a></li>
<li class="chapter" data-level="5.1.2" data-path="writing-functions.html"><a href="writing-functions.html#lists-of-functions"><i class="fa fa-check"></i><b>5.1.2</b> Lists of Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>6</b> Functional Programming</a><ul>
<li class="chapter" data-level="6.0.1" data-path="functional-programming.html"><a href="functional-programming.html#assignment-1"><i class="fa fa-check"></i><b>6.0.1</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>7</b> Control Structures</a><ul>
<li class="chapter" data-level="7.1" data-path="control-structures.html"><a href="control-structures.html#if-statements"><i class="fa fa-check"></i><b>7.1</b> IF statements</a></li>
<li class="chapter" data-level="7.2" data-path="control-structures.html"><a href="control-structures.html#else"><i class="fa fa-check"></i><b>7.2</b> ELSE</a></li>
<li class="chapter" data-level="7.3" data-path="control-structures.html"><a href="control-structures.html#ifelse"><i class="fa fa-check"></i><b>7.3</b> ifelse</a></li>
<li class="chapter" data-level="7.4" data-path="control-structures.html"><a href="control-structures.html#loops"><i class="fa fa-check"></i><b>7.4</b> Loops</a></li>
<li class="chapter" data-level="7.5" data-path="control-structures.html"><a href="control-structures.html#more-for-loop-information"><i class="fa fa-check"></i><b>7.5</b> more For loop information</a></li>
<li class="chapter" data-level="7.6" data-path="control-structures.html"><a href="control-structures.html#while-loops"><i class="fa fa-check"></i><b>7.6</b> While loops</a></li>
<li class="chapter" data-level="7.7" data-path="control-structures.html"><a href="control-structures.html#assignments"><i class="fa fa-check"></i><b>7.7</b> Assignments</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="apply-functions.html"><a href="apply-functions.html"><i class="fa fa-check"></i><b>8</b> Apply functions</a><ul>
<li class="chapter" data-level="8.1" data-path="apply-functions.html"><a href="apply-functions.html#apply"><i class="fa fa-check"></i><b>8.1</b> apply</a></li>
<li class="chapter" data-level="8.2" data-path="apply-functions.html"><a href="apply-functions.html#lapply"><i class="fa fa-check"></i><b>8.2</b> lapply</a></li>
<li class="chapter" data-level="8.3" data-path="apply-functions.html"><a href="apply-functions.html#sapply"><i class="fa fa-check"></i><b>8.3</b> sapply</a></li>
<li class="chapter" data-level="8.4" data-path="apply-functions.html"><a href="apply-functions.html#vapply"><i class="fa fa-check"></i><b>8.4</b> vapply</a></li>
<li class="chapter" data-level="8.5" data-path="apply-functions.html"><a href="apply-functions.html#tapply"><i class="fa fa-check"></i><b>8.5</b> tapply</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="thinking-in-r.html"><a href="thinking-in-r.html"><i class="fa fa-check"></i><b>9</b> Thinking in R</a><ul>
<li class="chapter" data-level="9.1" data-path="thinking-in-r.html"><a href="thinking-in-r.html#memory-allocation"><i class="fa fa-check"></i><b>9.1</b> Memory Allocation</a></li>
<li class="chapter" data-level="9.2" data-path="thinking-in-r.html"><a href="thinking-in-r.html#vectorization"><i class="fa fa-check"></i><b>9.2</b> Vectorization</a></li>
<li class="chapter" data-level="9.3" data-path="thinking-in-r.html"><a href="thinking-in-r.html#vectorization-tips"><i class="fa fa-check"></i><b>9.3</b> Vectorization Tips</a></li>
<li class="chapter" data-level="9.4" data-path="thinking-in-r.html"><a href="thinking-in-r.html#indexing"><i class="fa fa-check"></i><b>9.4</b> Indexing</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="common-commands.html"><a href="common-commands.html"><i class="fa fa-check"></i><b>10</b> Common Commands</a><ul>
<li class="chapter" data-level="10.1" data-path="common-commands.html"><a href="common-commands.html#vocabulary"><i class="fa fa-check"></i><b>10.1</b> Vocabulary</a></li>
<li class="chapter" data-level="10.2" data-path="common-commands.html"><a href="common-commands.html#the-basics"><i class="fa fa-check"></i><b>10.2</b> The basics</a></li>
<li class="chapter" data-level="10.3" data-path="common-commands.html"><a href="common-commands.html#common-data-structures"><i class="fa fa-check"></i><b>10.3</b> Common data structures</a></li>
<li class="chapter" data-level="10.4" data-path="common-commands.html"><a href="common-commands.html#statistics"><i class="fa fa-check"></i><b>10.4</b> Statistics</a></li>
<li class="chapter" data-level="10.5" data-path="common-commands.html"><a href="common-commands.html#working-with-r"><i class="fa fa-check"></i><b>10.5</b> Working with R</a></li>
<li class="chapter" data-level="10.6" data-path="common-commands.html"><a href="common-commands.html#io"><i class="fa fa-check"></i><b>10.6</b> I/O</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="inputoutput.html"><a href="inputoutput.html"><i class="fa fa-check"></i><b>11</b> Input/Output</a><ul>
<li class="chapter" data-level="11.1" data-path="inputoutput.html"><a href="inputoutput.html#fast-io"><i class="fa fa-check"></i><b>11.1</b> Fast I/O</a></li>
<li class="chapter" data-level="11.2" data-path="inputoutput.html"><a href="inputoutput.html#built-in-io"><i class="fa fa-check"></i><b>11.2</b> Built-in I/O</a></li>
<li class="chapter" data-level="11.3" data-path="inputoutput.html"><a href="inputoutput.html#some-tidbits"><i class="fa fa-check"></i><b>11.3</b> Some tidbits</a></li>
<li class="chapter" data-level="11.4" data-path="inputoutput.html"><a href="inputoutput.html#output"><i class="fa fa-check"></i><b>11.4</b> Output</a><ul>
<li class="chapter" data-level="11.4.1" data-path="inputoutput.html"><a href="inputoutput.html#your-task-1"><i class="fa fa-check"></i><b>11.4.1</b> Your task</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="custom-io.html"><a href="custom-io.html"><i class="fa fa-check"></i><b>12</b> Custom I/O</a></li>
<li class="chapter" data-level="13" data-path="pragmatic-programming.html"><a href="pragmatic-programming.html"><i class="fa fa-check"></i><b>13</b> Pragmatic Programming</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Pharmaceutical Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro-to-data-manipulation" class="section level1">
<h1><span class="header-section-number">3</span> Intro to Data Manipulation</h1>
<p>All of you have most likely used every single element of this module, but now we will reassess these operators and behaviors to get a deeper understanding - thus allowing us to wield them more effectively.</p>
<div id="subsetting" class="section level2">
<h2><span class="header-section-number">3.1</span> Subsetting</h2>
<p>The three subsetting (or subscripting) operators available in R are <code>[</code>, <code>[[</code>, and <code>$</code>. There are also some functions such as <code>subset</code>. Each has different behaviors and caveats attached that are important when deciding which to use for the intended task.</p>
<table>
<thead>
<tr class="header">
<th>Subscript</th>
<th align="right">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Positive Numeric Vector</td>
<td align="right">selects items in those indices</td>
</tr>
<tr class="even">
<td>Negative Numeric Vector</td>
<td align="right">selects all but those indices</td>
</tr>
<tr class="odd">
<td>Character Vector</td>
<td align="right">selects items with those names</td>
</tr>
<tr class="even">
<td>Logical Vector</td>
<td align="right">selects all TRUE (and NA) items</td>
</tr>
<tr class="odd">
<td>Missing</td>
<td align="right">selects all missing</td>
</tr>
</tbody>
</table>
<p>You can easily see how each of these works given a simple vector</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="ot">NA</span>, <span class="dv">8</span>, <span class="dv">10</span>)
<span class="kw">names</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>)
x[<span class="dv">1</span>]
<span class="co">#&gt; a </span>
<span class="co">#&gt; 1</span>
x[-<span class="dv">1</span>]
<span class="co">#&gt;  b  c  d  e </span>
<span class="co">#&gt;  5 NA  8 10</span>
x[<span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">3</span>)]
<span class="co">#&gt;  a  b  c </span>
<span class="co">#&gt;  1  5 NA</span>
x[-<span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">3</span>)]
<span class="co">#&gt;  d  e </span>
<span class="co">#&gt;  8 10</span>
x[<span class="kw">is.na</span>(x)]
<span class="co">#&gt;  c </span>
<span class="co">#&gt; NA</span>
x[!<span class="kw">is.na</span>(x)]
<span class="co">#&gt;  a  b  d  e </span>
<span class="co">#&gt;  1  5  8 10</span>
x[<span class="st">&quot;b&quot;</span>]
<span class="co">#&gt; b </span>
<span class="co">#&gt; 5</span>
x[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)]
<span class="co">#&gt;  b  c </span>
<span class="co">#&gt;  5 NA</span>

<span class="co"># Logical subsetting returns values that you give as true</span>
x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)]
<span class="co">#&gt;  a  c </span>
<span class="co">#&gt;  1 NA</span>
<span class="co"># but don&#39;t forget about the recycling rules!</span>
x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)]
<span class="co">#&gt;  a  c  e </span>
<span class="co">#&gt;  1 NA 10</span>

<span class="co"># if you call a specific index more than once it will be returned more than once</span>
x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>)]
<span class="co">#&gt; b b </span>
<span class="co">#&gt; 5 5</span></code></pre></div>
<p>By default, <code>[</code> will simplify the results to the lowest possible dimensionality. That is, it will reduce any higher dimensionality object to a list or vector. This is because if you select a subset, R will coerce the result to the appropriate dimensionality. We will give an example of this momentarily. To stop this behavior you can use the <code>drop = FALSE</code> option.</p>
<p>For higher dimensionality objects, rows and columns are subset individually and can be combined in a single call</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Theoph[<span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">10</span>), <span class="kw">c</span>(<span class="st">&quot;Time&quot;</span>, <span class="st">&quot;conc&quot;</span>)]
<span class="co">#&gt;     Time  conc</span>
<span class="co">#&gt; 1   0.00  0.74</span>
<span class="co">#&gt; 2   0.25  2.84</span>
<span class="co">#&gt; 3   0.57  6.57</span>
<span class="co">#&gt; 4   1.12 10.50</span>
<span class="co">#&gt; 5   2.02  9.66</span>
<span class="co">#&gt; 6   3.82  8.58</span>
<span class="co">#&gt; 7   5.10  8.36</span>
<span class="co">#&gt; 8   7.03  7.47</span>
<span class="co">#&gt; 9   9.05  6.89</span>
<span class="co">#&gt; 10 12.12  5.94</span></code></pre></div>
<p><code>[[</code> and <code>$</code> allow us to take out components of the list.</p>
<p>Likewise, given data frames are lists of column, <code>[[</code> can be used to extract a column from data frames.</p>
<p><code>[[</code> is similar to <code>[</code>, however, it only returns a single value. <code>$</code> is shorthand for <code>[[</code> but is only available for character subsetting</p>
<p>There are two additional important distinctions between <code>$</code> and <code>[[</code></p>
<ol style="list-style-type: decimal">
<li><code>$</code> can not be used for column names stored as a variable:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">id &lt;-<span class="st"> &quot;Subject&quot;</span>
Theoph$id
Theoph[[id]]</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><code>$</code> allows for partial matching, though this is not advised given code completion engines in this day and age</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(Theoph)
<span class="co"># $ allows for partial matching</span>
<span class="kw">head</span>(Theoph$Sub)
<span class="kw">head</span>(Theoph$<span class="st">&quot;Subj&quot;</span>)
<span class="kw">head</span>(Theoph$Subject)

<span class="co"># &#39;[[&#39; does not</span>
<span class="kw">head</span>(Theoph[[<span class="st">&quot;Subj&quot;</span>]])</code></pre></div>
<p>Using <code>$</code> can lead to unintended consequences if you’re looking to grab a column of a certain name that isn’t there but a partial match is - especially if this is nested in a function where it isn’t clear immediately</p>
<p><code>[</code> and <code>[[</code> are both useful for different tasks. In a general sense you use them to accomplish the following:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Simplifying</th>
<th>Preserving</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vector</td>
<td><code>x[[1]]</code></td>
<td><code>x[1]</code></td>
</tr>
<tr class="even">
<td>List</td>
<td><code>x[[1]]</code></td>
<td><code>x[1]</code></td>
</tr>
<tr class="odd">
<td>Factor</td>
<td><code>x[1:4, drop = T]</code></td>
<td><code>x[1:4]</code></td>
</tr>
<tr class="even">
<td>Array</td>
<td><code>x[1, ]</code>, <code>x[, 1]</code></td>
<td><code>x[1, , drop = F]</code>, <code>x[, 1, drop = F]</code></td>
</tr>
<tr class="odd">
<td>Data frame</td>
<td><code>x[, 1]</code>, <code>x[[1]]</code></td>
<td><code>x[, 1, drop = F]</code>, <code>x[1]</code></td>
</tr>
</tbody>
</table>
<p>There are benefits for each - simplying is often beneficial when you are looking for a result. Preserving is often beneficial in the programming context when you want to keep the results and structure the same.</p>
<p>An easy way to think about it:</p>
<blockquote>
<p>“If list <code>x</code> is a train carrying objects, then <code>x[[5]]</code> is the object in car 5; <code>x[4:6]</code> is a train of cars 4-6.” — <span class="citation">[@RLangTip]</span>(<a href="http://twitter.com/#!/RLangTip/status/118339256388304896" class="uri">http://twitter.com/#!/RLangTip/status/118339256388304896</a>)</p>
</blockquote>
<p>One thing to note: S3 and S4 objects can override the standard behavior of <code>[</code> and <code>[[</code> so they behave differently for different types of objects. This can be useful for controlling simplification vs preservation behavior.</p>
<div id="try-it-yourself" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Try it yourself</h3>
<ul>
<li>create a vector, list, and dataframe.</li>
<li>Extract elements using [, [[, and $</li>
<li>What are the type and attributes that remain for the extracted piece of information</li>
<li>Quickly brainstorm a couple situations that these could be important to remember for more complex tasks</li>
</ul>
</div>
</div>
<div id="logical-subsetting" class="section level2">
<h2><span class="header-section-number">3.2</span> Logical Subsetting</h2>
<p>One of the most common ways to subset rows is to use <strong>logical subsetting</strong>.</p>
<p>Let’s take a look</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Theoph[Theoph$Subject ==<span class="dv">1</span>,]
<span class="co">#&gt;    Subject   Wt Dose  Time  conc</span>
<span class="co">#&gt; 1        1 79.6 4.02  0.00  0.74</span>
<span class="co">#&gt; 2        1 79.6 4.02  0.25  2.84</span>
<span class="co">#&gt; 3        1 79.6 4.02  0.57  6.57</span>
<span class="co">#&gt; 4        1 79.6 4.02  1.12 10.50</span>
<span class="co">#&gt; 5        1 79.6 4.02  2.02  9.66</span>
<span class="co">#&gt; 6        1 79.6 4.02  3.82  8.58</span>
<span class="co">#&gt; 7        1 79.6 4.02  5.10  8.36</span>
<span class="co">#&gt; 8        1 79.6 4.02  7.03  7.47</span>
<span class="co">#&gt; 9        1 79.6 4.02  9.05  6.89</span>
<span class="co">#&gt; 10       1 79.6 4.02 12.12  5.94</span>
<span class="co">#&gt; 11       1 79.6 4.02 24.37  3.28</span></code></pre></div>
<p>We just subset the Theoph dataframe to only give us back the rows in which Subject equals 1. How does R go about doing this? Logical subsetting!</p>
<p>Notice what we get when we simply ask for <code>Theoph$Subject == 1</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Theoph$Subject ==<span class="dv">1</span>
<span class="co">#&gt;   [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</span>
<span class="co">#&gt;  [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [23] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [34] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [45] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [56] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [67] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [78] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [89] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [100] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [111] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [122] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></code></pre></div>
<p>It doesn’t give us back the values for the rows where subject equals one, rather, it gives us back a vector of <code>TRUE</code> or <code>FALSE</code> values.</p>
<p>So, in reality, we are using the logical subsetting rules to extract the rows of the dataframe that come back <code>TRUE</code> from our logical query.</p>
<p>We can do this ‘by hand’ to show whats going on</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">subj &lt;-<span class="st"> </span><span class="kw">ifelse</span>(Theoph[[<span class="st">&quot;Subject&quot;</span>]] ==<span class="dv">1</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
subj
<span class="co">#&gt;   [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</span>
<span class="co">#&gt;  [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [23] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [34] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [45] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [56] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [67] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [78] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt;  [89] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [100] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [111] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [122] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
Theoph[subj,]
<span class="co">#&gt;    Subject   Wt Dose  Time  conc</span>
<span class="co">#&gt; 1        1 79.6 4.02  0.00  0.74</span>
<span class="co">#&gt; 2        1 79.6 4.02  0.25  2.84</span>
<span class="co">#&gt; 3        1 79.6 4.02  0.57  6.57</span>
<span class="co">#&gt; 4        1 79.6 4.02  1.12 10.50</span>
<span class="co">#&gt; 5        1 79.6 4.02  2.02  9.66</span>
<span class="co">#&gt; 6        1 79.6 4.02  3.82  8.58</span>
<span class="co">#&gt; 7        1 79.6 4.02  5.10  8.36</span>
<span class="co">#&gt; 8        1 79.6 4.02  7.03  7.47</span>
<span class="co">#&gt; 9        1 79.6 4.02  9.05  6.89</span>
<span class="co">#&gt; 10       1 79.6 4.02 12.12  5.94</span>
<span class="co">#&gt; 11       1 79.6 4.02 24.37  3.28</span></code></pre></div>
<p>Logical subsetting is at the core of many of R’s operations. Any time you’re matching, or checking with <code>is.*</code> you are using logical subsetting to test the condition you’re looking for then returning the <code>TRUE</code> results</p>
</div>
<div id="common-subsetting-situations-and-some-useful-functions" class="section level2">
<h2><span class="header-section-number">3.3</span> Common Subsetting Situations and Some Useful Functions</h2>
<p>Now that you’ve gotten your feet wet with the basics of subsetting, lets check-in with some of the commonly used operators that give us some enhanced subsetting functionality.</p>
<p>Note: These all take advantage of logical subsetting:</p>
<p>Take a moment to prod through to documentation for the other operations. Note for things operations like <code>%in%</code> or <code>&amp;</code> to query help you need to add a single quote around it like so <code>?'%in%'</code></p>
<p>This is a good chance for us to take a deeper look @ both how these functions work and how to read the documentation</p>
<p><strong>pause to look @ %in%, is.na, and which documentation</strong></p>
<ul>
<li><code>%in%</code></li>
<li><code>is.na</code></li>
<li><code>!</code></li>
<li><code>duplicated</code></li>
<li><code>unique</code></li>
<li><code>&amp;</code></li>
<li><code>|</code></li>
<li><code>any</code></li>
<li><p><code>all</code></p></li>
<li><p><code>which</code></p></li>
</ul>
<p>It can be useful to make yourself a brief ‘cheat sheet’ of some of the common operations you use to reference when you’re thinking about what you are trying to do what you want your output to be.</p>
<p>For example:</p>
<ul>
<li><code>%in% - compares values from the input vector with a table vector and returns T/F.  * input/output are coerced to vectors and then type-matched before comparison. Factors, lists converted to character vectors! * Never returns NA, making it useful for</code>if` conditions
<ul>
<li>Can be slow for long lists and best avoided for complex cases</li>
</ul></li>
</ul>
<p>There is an interesting nugget of information in the documentation - that the input is coerced to a vector then type-matched.</p>
<p>So what is going on in these two situations?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ISM &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
ISMnums &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)
SUBJ &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)
ISM %in%<span class="st"> </span>SUBJ
<span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE</span>
<span class="kw">which</span>(ISM %in%<span class="st"> </span>SUBJ)
<span class="co">#&gt; [1] 1 3</span>
ISMnums %in%<span class="st"> </span>SUBJ
<span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE</span>
<span class="kw">which</span>(ISMnums %in%<span class="st"> </span>SUBJ)
<span class="co">#&gt; [1] 1 3</span>

ISM &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
SUBJ &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))
ISM %in%<span class="st"> </span>SUBJ
<span class="co">#&gt; [1] FALSE FALSE FALSE FALSE</span>
<span class="kw">which</span>(ISM %in%<span class="st"> </span>SUBJ)
<span class="co">#&gt; integer(0)</span>
ISMnums %in%<span class="st"> </span>SUBJ
<span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE</span>
<span class="kw">which</span>(ISMnums %in%<span class="st"> </span>SUBJ)
<span class="co">#&gt; [1] 1 3</span></code></pre></div>
<p>hint: look @ ID numbers</p>
<p>The moral of the story, is make sure you know what is going on under the hood - sometimes you can get the ‘right’ answer for the wrong reasons.</p>
<div id="pop-quiz-question" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Pop quiz question</h3>
<p>What’s wrong with this subsetting command? <code>dosingdf &lt;- df[unique(df$ID),]</code></p>
</div>
</div>
<div id="data-manipulation" class="section level2">
<h2><span class="header-section-number">3.4</span> Data Manipulation</h2>
<p>Now that we can slice and dice our data how we want - let’s examine how we can actually manipulate the data</p>
<p>Our goal for this section is to be able to: - rename columns systematically - reorder and rearrange rows and columns to our needs - create new columns</p>
</div>
<div id="renaming-columns" class="section level2">
<h2><span class="header-section-number">3.5</span> renaming columns</h2>
<p>Quick renaming of columns can be easily accomplished using the dplyr <code>rename</code> command (originally from plyr) with the structure:</p>
<p><code>dataframe &lt;- rename(dataframe, c(&quot;oldcolname1&quot; = &quot;newcolname1&quot;, ...))</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: &#39;dplyr&#39;</span>
<span class="co">#&gt; The following objects are masked from &#39;package:stats&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw">names</span>(Theoph)
<span class="co">#&gt; [1] &quot;Subject&quot; &quot;Wt&quot;      &quot;Dose&quot;    &quot;Time&quot;    &quot;conc&quot;</span>
Theoph &lt;-<span class="st"> </span><span class="kw">rename</span>(Theoph, <span class="dt">ID =</span> Subject)
<span class="kw">names</span>(Theoph)
<span class="co">#&gt; [1] &quot;ID&quot;   &quot;Wt&quot;   &quot;Dose&quot; &quot;Time&quot; &quot;conc&quot;</span></code></pre></div>
<p>This can also be done directly without PKPDmisc, however is a bit more verbose</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(Theoph)[<span class="kw">names</span>(Theoph)==<span class="st">&quot;Subject&quot;</span>] &lt;-<span class="st"> &quot;ID&quot;</span></code></pre></div>
<p>Pause for a second - given what we’ve learned about subsetting - what is going on based on the way we’ve constructed the renaming.</p>
<p>Answer: <code>names(Theoph)</code> creates a vector of names - the <code>names(Theoph) == &quot;Subject&quot;</code> logically subsets the vector to identify which index matches the query. <code>&lt;- &quot;ID&quot;</code> is to assign a new value to that index location(s).</p>
<p>Column names can be directly accessed using the <code>colnames</code> function (or for dataframes or lists simply <code>names</code>), and you can rename them all directly by giving it a vector of names.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colnames</span>(Theoph) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>)
<span class="kw">colnames</span>(Theoph)
<span class="co">#&gt; [1] &quot;hello&quot; &quot;there&quot; NA      NA      NA</span>
<span class="kw">rm</span>(Theoph)</code></pre></div>
<p>As you can see, this can be dangerous due to not giving the proper length vector (remember R’s recycling rule!), likewise, if the order of columns changes unexpectedly, your vector could rename columns incorrectly.</p>
<p>There are a couple things directly accessing all the colnames can be useful for though.</p>
<p>For example, capitalization of columns can often be inconsistent and frustrating. This can be quickly fixed by converting all columns to uppercase or lowercase using <code>toupper()</code> and <code>tolower()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(Theoph)
<span class="co">#&gt; [1] &quot;Subject&quot; &quot;Wt&quot;      &quot;Dose&quot;    &quot;Time&quot;    &quot;conc&quot;</span>
<span class="kw">names</span>(Theoph) &lt;-<span class="st"> </span><span class="kw">toupper</span>(<span class="kw">names</span>(Theoph))
<span class="kw">names</span>(Theoph)
<span class="co">#&gt; [1] &quot;SUBJECT&quot; &quot;WT&quot;      &quot;DOSE&quot;    &quot;TIME&quot;    &quot;CONC&quot;</span>
<span class="kw">rm</span>(Theoph)</code></pre></div>
</div>
<div id="reordering-rowscolumns" class="section level2">
<h2><span class="header-section-number">3.6</span> reordering rows/columns</h2>
<p>When reordering columns in a dataframe you can actually think of it as creating a new dataframe in which the columns get created in the way you order them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">newTheoph &lt;-<span class="st"> </span>Theoph[<span class="kw">c</span>(<span class="st">&quot;Subject&quot;</span>, <span class="st">&quot;Time&quot;</span>, <span class="st">&quot;conc&quot;</span>, <span class="st">&quot;Dose&quot;</span>, <span class="st">&quot;Wt&quot;</span>)]
<span class="kw">head</span>(Theoph)
<span class="co">#&gt;   Subject   Wt Dose Time  conc</span>
<span class="co">#&gt; 1       1 79.6 4.02 0.00  0.74</span>
<span class="co">#&gt; 2       1 79.6 4.02 0.25  2.84</span>
<span class="co">#&gt; 3       1 79.6 4.02 0.57  6.57</span>
<span class="co">#&gt; 4       1 79.6 4.02 1.12 10.50</span>
<span class="co">#&gt; 5       1 79.6 4.02 2.02  9.66</span>
<span class="co">#&gt; 6       1 79.6 4.02 3.82  8.58</span>
<span class="kw">head</span>(newTheoph)
<span class="co">#&gt;   Subject Time  conc Dose   Wt</span>
<span class="co">#&gt; 1       1 0.00  0.74 4.02 79.6</span>
<span class="co">#&gt; 2       1 0.25  2.84 4.02 79.6</span>
<span class="co">#&gt; 3       1 0.57  6.57 4.02 79.6</span>
<span class="co">#&gt; 4       1 1.12 10.50 4.02 79.6</span>
<span class="co">#&gt; 5       1 2.02  9.66 4.02 79.6</span>
<span class="co">#&gt; 6       1 3.82  8.58 4.02 79.6</span></code></pre></div>
<p>Most of the time since you don’t want to create a new data frame every time you reorder, you can simply overwrite the old data frame. <code>Theoph &lt;- Theoph[c(&quot;Subject&quot;, &quot;Time&quot;, &quot;conc&quot;, &quot;Dose&quot;, &quot;Wt&quot;)]</code></p>
<p>Just like all other subsetting we’ve gone over, we can also organize by index</p>
<p><code>Theoph &lt;- Theoph[c(1, 4, 5, 3, 2)]</code></p>
<p>I suggest against it unless you have good reason. (ie you know your code will always be a specific structure) Even then, while faster to type than named indices, it makes legibility more difficult, and modification down the line more tedious trying to keep track.</p>
</div>
<div id="keys" class="section level2">
<h2><span class="header-section-number">3.7</span> Keys</h2>
<p>Similar to columns, rows also have names. As you slice and dice and reorder a dataset it can get pretty ugly, so if the need arises, row names can be rest by <code>rownames(df) &lt;- NULL</code></p>
<p>Rows can always be referred by their name. They are also structurally distinguishable by their content.</p>
<p>A <strong>key</strong> is the set of columns that can uniquely distinguish every row. Different datasets can have keys of varying complexity (number of columns)</p>
<p>A basic dosing dataset key may be as simple as ID, however for a cross-over clinical trial a dataset may be keyed on ID, time, and cohort.</p>
<p>The general relationship between <strong>key columns</strong> and other columns is:</p>
<blockquote>
<p>Key columns represent unique objects (persons, groups, sites, etc) and the other columns should characterize these objects</p>
</blockquote>
<p>For example, a person might be the key column for different concentration, time, wt, etc measurements, thus if you are ‘extracting’ information you’d likely want it based on the key column, so for example by max concentration by individual)</p>
<p>R does not explicitly recognize keys - it is up to you to keep track. Keys become increasingly important when delving into advanced data manipulation. Using dplyr <code>group_by</code> makes working with keys much more straightforward than in base R.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rmarkdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="core-r.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dpastoor/r-pharmsciences/edit/master/intro-data-manipulation.Rmd",
"text": "Edit"
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
